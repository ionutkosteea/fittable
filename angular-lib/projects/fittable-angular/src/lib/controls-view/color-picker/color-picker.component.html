<fit-button [model]="model" />
<hr
  class="button-color"
  (click)="run()"
  [ngStyle]="{ backgroundColor: getSelectedColor() }"
/>
<fit-popup-menu [model]="getWindow()">
  <div class="pad-s">
    <div
      class="color-none-button"
      [ngStyle]="{ backgroundImage: getColorNoneIcon() }"
      (click)="runControl(getColorNoneId())"
    >
      {{ getColorNoneLabel() }}
    </div>
  </div>
  <div class="pad-s">
    <div class="color-panel">
      @for (id of getColorIds(); track $index) {
        <div
          class="color-button"
          (click)="runControl(id)"
          [ngStyle]="{ backgroundColor: getColorValue(id) }"
        ></div>
      }
    </div>
  </div>
  <div class="pad-s">
    <hr class="custom-color-separator" />
  </div>
  <div class="pad-s">
    <div class="color-panel">
      @for (id of getCustomColorIds(); track $index) {
        <div
          class="color-button"
          (click)="runControl(id)"
          [ngStyle]="{ backgroundColor: getColorValue(id) }"
        ></div>
      }
    </div>
  </div>
  <div class="pad-s">
    <div class="custom-color-picker">
      <div class="custom-color-combo">
        <input
          #colorPicker
          [value]="getSelectedColor()"
          type="color"
          (input)="onSelectCustomColor()"
        />
        <span>â–¼</span>
      </div>
      <button
        class="custom-color-button"
        [ngStyle]="{
          backgroundColor: isColorPickerVisible
            ? 'var(--highlight-color)'
            : 'var(--context-menu-color)'
        }"
        (click)="addCustomColor()"
      >
        +
      </button>
    </div>
  </div>
</fit-popup-menu>
